<html lang="en">
	<head>
		<script>
			var auth2;
			var googleUser;
			var profile;
			
			var params = {
				client_id: "877919083410-kmf5737t33qkkrlo33ljlnho5ovl7r76.apps.googleusercontent.com",
				scope: "profile",
				fetch_basic_profile: true
			};

			function appStart(){
				console.log("appStart");
				gapi.load('auth2', function(){

					auth2 = gapi.auth2.init(params);
					
					auth2.signIn().then(function() {
	    				googleUser = auth2.currentUser.get();
		    				
	    				if (auth2.isSignedIn.get()) {
							console.log("signed in.");
						}else{
							console.log("not signed in");
						}

						onSuccess(googleUser);

	  				}, onFailure );
	  				attachSignin(document.getElementById('customBtn'));
				});
			};

			function attachSignin(element) {
			    console.log(element.id);
			    auth2.attachClickHandler(element, params, onSuccess, onFailure);
			}

			function onSuccess(user){
				console.log("onSuccess");
				document.getElementById('name').innerText = "Signed in: " +
			            user.getBasicProfile().getEmail();
			};

			function onFailure(error){
				console.log("onFailure");
				alert(JSON.stringify( error,undefined,2) );
			};

		</script>
		<script src="https://apis.google.com/js/client.js?onload=appStart"></script>

		<style type="text/css">
	    #customBtn {
	      display: inline-block;
	      background: white;
	      color: #444;
	      width: 100px;
	      height: 30px;
	      border-radius: 5px;
	      border: thin solid #888;
	      box-shadow: 1px 1px 1px grey;
	      white-space: nowrap;
	    }
	    </style>
	</head>
	
	<body>

	<div id='name'></div>

	<div id="customBtn"></div>
	
	</body>
</html>